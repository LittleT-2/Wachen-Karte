<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>Wachen Karte</title>

<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

<style>
#map { height: 600px; }
body { font-family: Arial; }
</style>
</head>

<body>

<h2>Wachen Datenbank</h2>

<select id="filter">
<option value="alle">Alle anzeigen</option>
<option value="Feuerwehr">Feuerwehr</option>
<option value="Polizei">Polizei</option>
<option value="Rettungsdienst">Rettungsdienst</option>
</select>

<div id="map"></div>

<script>
var map = L.map('map').setView([51.1657, 10.4515], 6);

L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '© OpenStreetMap'
}).addTo(map);

var daten = [
    {name:"Feuerwehr Berlin", typ:"Feuerwehr", coords:[52.52,13.405]},
    {name:"Polizei Hamburg", typ:"Polizei", coords:[53.55,10.00]},
    {name:"Rettungsdienst München", typ:"Rettungsdienst", coords:[48.14,11.58]}
];

var markerLayer = L.layerGroup().addTo(map);

function updateMap(filter) {
    markerLayer.clearLayers();
    daten.forEach(function(eintrag) {
        if(filter === "alle" || eintrag.typ === filter) {
            L.marker(eintrag.coords)
             .bindPopup("<b>"+eintrag.name+"</b><br>"+eintrag.typ)
             .addTo(markerLayer);
        }
    });
}

document.getElementById("filter").addEventListener("change", function() {
    updateMap(this.value);
});

updateMap("alle");
</script>

</body>
</html>
